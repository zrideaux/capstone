<html lang="en">
  <head>
    <meta charset="UTF-8" />
    
    <title>New Listing</title>

    <link rel="stylesheet" type="text/css" href="stylesheets/master.css">
    <link rel="stylesheet" type="text/css" href="stylesheets/newlisting.css">
    <!-- <link rel="stylesheet" type="text/css" href="stylesheets/search.css"> -->
    <link rel="stylesheet" type="text/css" href="stylesheets/card.css">
    <link rel="stylesheet" type="text/css" 
        href="stylesheets/listing-preview.css">
    <link rel="stylesheet" type="text/css" 
        href="stylesheets/listing-detailed.css">    
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">

    <script type="module" src="/scripts/miscellaneous.js"></script>
    <script type="module" src="/scripts/new-listing.js"></script>
    <script 
        src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js">
    </script>
  </head>
  <body>
    <script type="module">
      import { 
        createNewListing,
        displayPreviewListing,
        suggestTags,
        validateInput
      } from './scripts/new-listing.js'

      window.createNewListing = function() {
        createNewListing();
      }

      window.displayPreviewListing = function() {
        displayPreviewListing();
      }

      window.validateInput = function(fieldId, instructionsId) {
        validateInput(fieldId, instructionsId);
      }

      window.suggestTags = function() {
        suggestTags();
      }
    </script>
    <header id="nav-box" class="shadow-box">
      <nav>
        <a href="index.html"><img id="logo" src="images/centralize_logo.png" alt="logo"></a>
        <div id="nav-links">
          <a class="nav-link" href="search.html">
            <i class="material-icons">search</i>
          </a>
          <a class="nav-link user-only" href="newlisting.html">
            <i class="material-icons">add_box</i>
          </a>
          <a class="nav-link" href="about.html">
            <i class="material-icons">book</i>
          </a>
          <a class="nav-link user-only" href="user.html">
            <i class="material-icons">account_box</i>
          </a>
          <a id="authentication-link" class="nav-link"></a>
        </div>
      </nav>
    </header>

    <main>
      <section class="shadow-box">
        <h1>Create New Listing</h1>
          <p class="sublabel">
            <span class="required-asterisk">*</span> = required
          </p>
        <ul>
          <li>
            <label for="cause-name" class="form-label">
              A Name for the Cause<span class="required-asterisk">*</span>
            </label>
            <p id='cause-name-instructions' class="sublabel">
              Give a short, descriptive name to the cause. This will be the
              first thing people see. (Enter up to 50 characters)
            </p>
            <input id="cause-name" type="text" minlength="1" maxlength="50" required
                placeholder="ex. Help Shelter Animals Get Exercise"
                onfocusout="validateInput('cause-name', 'cause-name-instructions');">
          </li>
          <li>
          <ul>
            <label class="form-label">Type of Cause<span class="required-asterisk">*</span></label>
            <p id="cause-type-instructions" class="sublabel">
              Choose the option which best describe your cause. This will help
              people find it. (Choose one)
            </p>
            <li>
              <input id="fundraiser-radio" class="search-filter" type="radio" 
                  value="fundraiser" name="cause-type" required
                  onchange="validateInput('fundraiser-radio', 'cause-type-instructions');">
              <label for="fundraiser-radio">Fundraiser</label>
            </li>
            <li>
              <input id="petition-radio" class="search-filter" type="radio" 
                  value="petition" name="cause-type"
                  onchange="validateInput('petition-radio', 'cause-type-instructions');">
              <label for="petition-radio">Petition</label>
            </li>
            <li>
              <input id="event-radio" class="search-filter" type="radio" 
                  value="event" name="cause-type"
                  onchange="validateInput('event-radio', 'cause-type-instructions');">
              <label for="event-radio">Event</label>
            </li>
            <li>
              <input id="other-radio" class="search-filter" type="radio" 
                  value="other" name="cause-type"
                  onchange="validateInput('other-radio', 'cause-type-instructions');">
              <label for="other-radio">Other</label>
            </li>
          </ul>
          <li>
            <label for="cause-location" class="form-label">Location<span class="required-asterisk">*</span></label>
            <p id="cause-location-instructions" class="sublabel">
              Select the location for the cause. Try to be as
              specific as possible, but as broad as needed.
            </p>
            <input id="cause-location" type="text" required
                placeholder="ex. Los Angeles, CA"
                onfocusout="validateInput('cause-location',
                'cause-location-instructions');">
          </li>
          <li>
            <label for="cause-description" class="form-label">
              Description<span class="required-asterisk">*</span>
            </label>
            <p id="cause-description-instructions" class="sublabel">
              Describe your cause and why it's important. (Enter
              up to 256 characters)
            </p>
            <textarea id="cause-description" minlength="1" maxlength="256" required
                onfocusout="validateInput('cause-description',
                'cause-description-instructions');"></textarea>
          </li>
          <li>
            <label for="cause-how-to-help" class="form-label">
              How To Help<span class="required-asterisk">*</span>
            </label>
            <p id="cause-how-to-help-instructions" class="sublabel">
              Describe how people can contribute to the cause. Be
              sure to include any specific addresses or links that may be
              important. (Enter up to 256 characters)
            </p>
            <textarea id="cause-how-to-help" minlength="1" maxlength="256" required
                onfocusout="validateInput('cause-how-to-help',
                'cause-how-to-help-instructions');"></textarea>
          </li>
          <li>
            <label for="cause-tags" class="form-label">
              Tags<span class="required-asterisk">*</span>
            </label>
            <p id="cause-tags-instructions" class="sublabel">
              Add some tags to help people find your cause. (Enter up to 256
              characters, separate tags with commas)
            </p>
            <p class="sublabel">
              Suggested:
              <span id="tags-suggestion-container" class="sublabel"></span>
            </p>
            <textarea id="cause-tags" minlength="1" maxlength="256" required
                placeholder="ex. dogs, animal, shelter, LA"
                onfocus="suggestTags();"
                onfocusout="validateInput('cause-tags',
                'cause-tags-instructions');"></textarea>
          </li>
          <li>
            <label for="cause-website" class="form-label">Website</label>
            <p class="sublabel">
              If you have a website surrounding the cause, be sure to link it here.
            </p>
            <input id="cause-website" type="text">
          </li>
          <li>
            <label for="cause-image" class="form-label">Add An Image</label>
            <p class="sublabel">Add a preview image for the cause. </p>
            <br>
            <form enctype="multipart/form-data" id="new-listing-form" 
                name="new-listing-form">
              <input id="cause-image" type="file" id="myFile" name="image" form="new-listing-form">
            </form>
          </li>
        </ul>
        <button id="create-listing-button" class="submission-buttons" type="button"
            onclick="createNewListing()" disabled>Submit</button>
        <button id="create-preview-button" class="submission-buttons" type="button"
            onclick="displayPreviewListing()" disabled>
          Make Preview
        </button>
        <span id="still-needed" class="invalid-input-instructions">Some information is still required!</span>
      </section>

      <section id="preview"></section>
    </main>
  </body>
</html>
